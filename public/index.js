!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){function e(e,t,n){this.text=e,this.parentElement=t,this.onDragSet=n,this.isDragging=!1,this.isEditing=!1,this.currentDroppable=null,this.colors=["#bfff25","#0cffc6","#ff9cbf","#ffc92a","#97b7ff","#daa0ff","#69ff72","#c9fff6","#bbbeff"],this.noteElement=document.createElement("div"),this.noteElement.classList.add("note"),this.noteElement.style.backgroundColor=this.colors[Math.floor(10*Math.random())],this.noteElement.innerHTML='\n        <div class="note-inner">\n            <textarea class="text" placeholder="Your text here">'+this.text+'</textarea>\n        </div>        \n        <span class="resize"></span>\n    ',this.resizeNoteHandler=this.resizeNoteHandler.bind(this),this.moveNote=this.moveNote.bind(this),this.parentElement.appendChild(this.noteElement),this.resizingElement=this.noteElement.querySelector(".resize"),this.resizingElement.addEventListener("mousedown",this.resizeNoteHandler),this.noteElement.addEventListener("mousedown",this.moveNote)}return e.prototype.moveNote=function(e){var t=this;if(e.target!==this.resizingElement){for(var n=this.parentElement.querySelectorAll(".note"),o=0;o<n.length;++o)n[o].style.zIndex="1";this.noteElement.style.zIndex="1000";var i=e.clientX-this.noteElement.getBoundingClientRect().left,r=e.clientY-this.noteElement.getBoundingClientRect().top,s=function(e,n){t.setPosition({x:e-i,y:n-r})},a=function(e){e.style.backgroundColor="#fdd1cf"},l=function(e){s(e.pageX,e.pageY),t.noteElement.hidden=!0;var n=document.elementFromPoint(e.clientX,e.clientY);if(t.noteElement.hidden=!1,n){var o=n.closest("#trash-zone");t.currentDroppable!=o&&(t.currentDroppable&&a(t.currentDroppable),t.currentDroppable=o,t.currentDroppable&&(t.currentDroppable.style.backgroundColor="#FDB7B2"))}},u=function(){document.removeEventListener("mousemove",l),t.onDragSet(!1),t.currentDroppable&&(t.removeNote(),a(t.currentDroppable)),t.noteElement.removeEventListener("mouseup",u)};s(e.pageX,e.pageY),document.addEventListener("mousemove",l),this.noteElement.addEventListener("mouseup",u),this.noteElement.addEventListener("dragstart",(function(){return!1}))}},e.prototype.resizeNoteHandler=function(e){var t=this;this.onDragSet(!0);var n=this.noteElement.offsetWidth,o=this.noteElement.offsetHeight,i=e.pageX,r=e.pageY,s=function(e){t.setSize({x:n+(e.pageX-i),y:o+(e.pageY-r)})};document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function(){t.onDragSet(!1),document.removeEventListener("mousemove",s)})),this.noteElement.addEventListener("mousedown",this.moveNote)},e.prototype.setPosition=function(e){this.noteElement.style.left=e.x+"px",this.noteElement.style.top=e.y+"px"},e.prototype.setSize=function(e){this.noteElement.style.width=e.x+"px",this.noteElement.style.height=e.y+"px"},e.prototype.removeNote=function(){this.resizingElement.removeEventListener("mousedown",this.resizeNoteHandler),this.parentElement.removeChild(this.noteElement)},e}();document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#canvas");new i(e)}));var i=function(){function e(e){var t=this;this.canvas=e,this.isDragging=!1,this.isEditing=!1,this.notesZone=e.querySelector("#notes-zone"),this.trashZone=e.querySelector("#trash-zone"),this.addNote=this.addNote.bind(this),this.notesZone.addEventListener("mouseup",(function(e){if(0===e.button){if(t.isDragging)return;e.target.closest(".note")||t.addNote({x:e.x,y:e.y})}})),this.onDragSet=this.onDragSet.bind(this)}return e.prototype.addNote=function(e){var t=new o("Some text",this.notesZone,this.onDragSet),n=t.noteElement;t.setPosition({x:e.x-n.offsetWidth/2,y:e.y-n.offsetHeight/2})},e.prototype.onDragSet=function(e){this.isDragging=e},e}()}]);
//# sourceMappingURL=index.js.map