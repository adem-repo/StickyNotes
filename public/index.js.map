{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/LStorage.ts","webpack:///./src/Note.ts","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","LStorage","storageAvailable","Error","this","getNotes","localStorage","setItem","_instance","storage","window","x","removeItem","e","DOMException","code","length","notes","JSON","stringify","notesString","getItem","parse","noteData","push","setItemToLocalStorage","noteIndex","findIndex","note","id","splice","parentElement","onDragSet","text","Date","toString","Math","random","color","currentDroppable","colors","moveNote","event","target","resizingElement","querySelectorAll","style","zIndex","noteElement","shiftX","clientX","getBoundingClientRect","left","shiftY","clientY","top","moveAt","pageX","pageY","setPosition","y","leaveDroppable","elem","backgroundColor","onMouseMove","hidden","elemBelow","document","elementFromPoint","droppableBelow","closest","onMouseUp","removeEventListener","removeNote","addEventListener","resizeNoteHandler","noteWidth","offsetWidth","noteHeight","offsetHeight","startX","startY","onNoteResize","setSize","textInputHandler","store","updateNote","getNoteData","position","size","width","height","removeChild","createElement","classList","add","rand","floor","innerHTML","textArea","querySelector","appendChild","canvas","isDragging","addNote","cb","notesZone","trashZone","button","setNotesFromStorage","forEach"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","class LStorage {\r\n    constructor() {\r\n        if (!LStorage.storageAvailable()) {\r\n            throw new Error(\"Storage is not available\");\r\n        }\r\n        if (!this.getNotes()) {\r\n            localStorage.setItem('notes', '[]');\r\n        }\r\n        if (LStorage._instance) {\r\n            return LStorage._instance;\r\n        }\r\n        LStorage._instance = this;\r\n    }\r\n    static storageAvailable() {\r\n        let storage;\r\n        try {\r\n            storage = window['localStorage'];\r\n            let x = '__storage_test__';\r\n            storage.setItem(x, x);\r\n            storage.removeItem(x);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return e instanceof DOMException && (\r\n            // everything except Firefox\r\n            e.code === 22 ||\r\n                // Firefox\r\n                e.code === 1014 ||\r\n                // test name field too, because code might not be present\r\n                // everything except Firefox\r\n                e.name === 'QuotaExceededError' ||\r\n                // Firefox\r\n                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\r\n                // acknowledge QuotaExceededError only if there's something already stored\r\n                (storage && storage.length !== 0);\r\n        }\r\n    }\r\n    static setItemToLocalStorage(notes) {\r\n        localStorage.setItem('notes', JSON.stringify(notes));\r\n    }\r\n    getNotes() {\r\n        const notesString = localStorage.getItem('notes');\r\n        return JSON.parse(notesString);\r\n    }\r\n    addNote(noteData) {\r\n        const notes = this.getNotes();\r\n        notes.push(noteData);\r\n        LStorage.setItemToLocalStorage(notes);\r\n    }\r\n    updateNote(noteData) {\r\n        const notes = this.getNotes();\r\n        const noteIndex = notes.findIndex(note => note.id === noteData.id);\r\n        notes[noteIndex] = noteData;\r\n        LStorage.setItemToLocalStorage(notes);\r\n    }\r\n    removeNote(id) {\r\n        const notes = this.getNotes();\r\n        const noteIndex = notes.findIndex(note => note.id === id);\r\n        notes.splice(noteIndex, 1);\r\n        LStorage.setItemToLocalStorage(notes);\r\n    }\r\n}\r\nexport default LStorage;\r\n","import LStorage from './LStorage';\r\nclass Note {\r\n    constructor(parentElement, onDragSet, text = '', id = `f${(+new Date).toString(16) + Math.random()}`, color) {\r\n        this.parentElement = parentElement;\r\n        this.onDragSet = onDragSet;\r\n        this.text = text;\r\n        this.id = id;\r\n        this.currentDroppable = null;\r\n        this.colors = [\r\n            '#bfff25',\r\n            '#0cffc6',\r\n            '#ff9cbf',\r\n            '#ffc92a',\r\n            '#97b7ff',\r\n            '#daa0ff',\r\n            '#69ff72',\r\n            '#c9fff6',\r\n            '#bbbeff',\r\n            '#fcfeff',\r\n        ];\r\n        this.moveNote = (event) => {\r\n            if (event.target === this.resizingElement)\r\n                return;\r\n            // Moving note to front\r\n            const notes = this.parentElement.querySelectorAll('.note');\r\n            for (let i = 0; i < notes.length; ++i) {\r\n                notes[i].style.zIndex = '1';\r\n            }\r\n            this.noteElement.style.zIndex = '1000';\r\n            //\r\n            let shiftX = event.clientX - this.noteElement.getBoundingClientRect().left;\r\n            let shiftY = event.clientY - this.noteElement.getBoundingClientRect().top;\r\n            const moveAt = (pageX, pageY) => {\r\n                this.setPosition({\r\n                    x: pageX - shiftX,\r\n                    y: pageY - shiftY,\r\n                });\r\n            };\r\n            const enterDroppable = (elem) => {\r\n                elem.style.backgroundColor = '#FDB7B2';\r\n            };\r\n            const leaveDroppable = (elem) => {\r\n                elem.style.backgroundColor = '#fdd1cf';\r\n            };\r\n            const onMouseMove = (event) => {\r\n                moveAt(event.pageX, event.pageY);\r\n                this.noteElement.hidden = true;\r\n                let elemBelow = document.elementFromPoint(event.clientX, event.clientY);\r\n                this.noteElement.hidden = false;\r\n                if (!elemBelow)\r\n                    return;\r\n                let droppableBelow = elemBelow.closest('#trash-zone');\r\n                if (this.currentDroppable != droppableBelow) {\r\n                    if (this.currentDroppable) {\r\n                        leaveDroppable(this.currentDroppable);\r\n                    }\r\n                    this.currentDroppable = droppableBelow;\r\n                    if (this.currentDroppable) {\r\n                        enterDroppable(this.currentDroppable);\r\n                    }\r\n                }\r\n            };\r\n            const onMouseUp = () => {\r\n                document.removeEventListener('mousemove', onMouseMove);\r\n                this.onDragSet(false);\r\n                if (this.currentDroppable) {\r\n                    this.removeNote();\r\n                    leaveDroppable(this.currentDroppable);\r\n                }\r\n                this.noteElement.removeEventListener('mouseup', onMouseUp);\r\n            };\r\n            moveAt(event.pageX, event.pageY);\r\n            document.addEventListener('mousemove', onMouseMove);\r\n            this.noteElement.addEventListener('mouseup', onMouseUp);\r\n            this.noteElement.addEventListener('dragstart', () => false);\r\n        };\r\n        this.resizeNoteHandler = (event) => {\r\n            this.onDragSet(true);\r\n            const noteWidth = this.noteElement.offsetWidth;\r\n            const noteHeight = this.noteElement.offsetHeight;\r\n            const startX = event.pageX;\r\n            const startY = event.pageY;\r\n            const onNoteResize = (event) => {\r\n                this.setSize({\r\n                    x: noteWidth + (event.pageX - startX),\r\n                    y: noteHeight + (event.pageY - startY),\r\n                });\r\n            };\r\n            const onMouseUp = () => {\r\n                this.onDragSet(false);\r\n                document.removeEventListener('mousemove', onNoteResize);\r\n            };\r\n            document.addEventListener('mousemove', onNoteResize);\r\n            document.addEventListener('mouseup', onMouseUp);\r\n            this.noteElement.addEventListener('mousedown', this.moveNote);\r\n        };\r\n        this.textInputHandler = (event) => {\r\n            this.text = event.target.value;\r\n            this.store.updateNote(this.getNoteData());\r\n        };\r\n        this.setPosition = (position) => {\r\n            this.position = position;\r\n            this.noteElement.style.left = position.x + 'px';\r\n            this.noteElement.style.top = position.y + 'px';\r\n            this.store.updateNote(this.getNoteData());\r\n        };\r\n        this.setSize = (size) => {\r\n            this.size = size;\r\n            this.noteElement.style.width = size.x + 'px';\r\n            this.noteElement.style.height = size.y + 'px';\r\n            this.store.updateNote(this.getNoteData());\r\n        };\r\n        this.removeNote = () => {\r\n            this.store.removeNote(this.id);\r\n            this.resizingElement.removeEventListener('mousedown', this.resizeNoteHandler);\r\n            this.parentElement.removeChild(this.noteElement);\r\n        };\r\n        this.getNoteData = () => {\r\n            return {\r\n                id: this.id,\r\n                color: this.color,\r\n                position: this.position,\r\n                size: {\r\n                    x: this.noteElement.offsetWidth,\r\n                    y: this.noteElement.offsetHeight,\r\n                },\r\n                text: this.text\r\n            };\r\n        };\r\n        this.store = new LStorage();\r\n        this.noteElement = document.createElement('div');\r\n        this.noteElement.classList.add('note');\r\n        const rand = Math.floor(Math.random() * 10);\r\n        this.color = this.colors[rand];\r\n        if (color)\r\n            this.color = color;\r\n        this.noteElement.style.backgroundColor = this.color;\r\n        this.noteElement.innerHTML = `\r\n        <div class=\"note-inner\">\r\n            <textarea class=\"text\" placeholder=\"Your text here\">${this.text}</textarea>\r\n        </div>        \r\n        <span class=\"resize\"></span>\r\n    `;\r\n        this.textArea = this.noteElement.querySelector('.text');\r\n        this.parentElement.appendChild(this.noteElement);\r\n        this.resizingElement = this.noteElement.querySelector('.resize');\r\n        this.resizingElement.addEventListener('mousedown', this.resizeNoteHandler);\r\n        this.noteElement.addEventListener('mousedown', this.moveNote);\r\n        this.textArea.addEventListener('keyup', this.textInputHandler);\r\n    }\r\n}\r\nexport default Note;\r\n","'use strict';\r\nimport Note from './Note';\r\nimport LStorage from './LStorage';\r\nclass StickyNotes {\r\n    constructor(canvas) {\r\n        this.canvas = canvas;\r\n        this.isDragging = false;\r\n        this.addNote = (noteData, cb) => {\r\n            const note = new Note(this.notesZone, this.onDragSet, noteData.text, noteData.id, noteData.color);\r\n            note.setPosition({\r\n                x: noteData.position.x,\r\n                y: noteData.position.y\r\n            });\r\n            cb && cb(note);\r\n        };\r\n        this.notesZone = canvas.querySelector('#notes-zone');\r\n        this.trashZone = canvas.querySelector('#trash-zone');\r\n        this.store = new LStorage();\r\n        this.notesZone.addEventListener('mouseup', (event) => {\r\n            if (event.button === 0) {\r\n                if (this.isDragging)\r\n                    return;\r\n                if (!event.target.closest('.note'))\r\n                    this.addNote({\r\n                        position: { x: event.x, y: event.y }\r\n                    }, (note) => this.store.addNote(note.getNoteData()));\r\n            }\r\n        });\r\n        this.onDragSet = this.onDragSet.bind(this);\r\n        this.setNotesFromStorage();\r\n    }\r\n    setNotesFromStorage() {\r\n        const notes = this.store.getNotes();\r\n        notes.forEach(noteData => {\r\n            this.addNote(noteData, note => note.setSize(noteData.size));\r\n        });\r\n    }\r\n    onDragSet(isDragging) {\r\n        this.isDragging = isDragging;\r\n    }\r\n}\r\nfunction main() {\r\n    const canvas = document.querySelector('#canvas');\r\n    new StickyNotes(canvas);\r\n}\r\ndocument.addEventListener('DOMContentLoaded', main);\r\n"],"sourceRoot":""}